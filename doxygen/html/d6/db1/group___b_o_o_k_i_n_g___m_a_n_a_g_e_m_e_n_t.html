<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>OTA Hotel: Booking/Check-in setup and management page</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../enovate_logoWEB2.JPG"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">OTA Hotel
   &#160;<span id="projectnumber">2.1.1597</span>
   </div>
   <div id="projectbrief">OTA Hotel Management software for small to medium hotels.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d6/db1/group___b_o_o_k_i_n_g___m_a_n_a_g_e_m_e_n_t.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Booking/Check-in setup and management page<div class="ingroups"><a class="el" href="../../d7/d89/group___c_o_d_e___m_a_n_a_g_e_m_e_n_t.html">Source Code documentation</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga9fb0f4e69cc3dbae3239455e3a9547a7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga9fb0f4e69cc3dbae3239455e3a9547a7"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>if</b> (<a class="el" href="../../d2/d62/functions_8php.html#a4f91b71772e80db5a4c98f0de6338cb0">is_ebridgeCustomer</a>())</td></tr>
<tr class="separator:ga9fb0f4e69cc3dbae3239455e3a9547a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga93c0ade0565b2572eebcb4db59a1da38"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga93c0ade0565b2572eebcb4db59a1da38"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>foreach</b> ($bookings as $idx=&gt; $val)</td></tr>
<tr class="separator:ga93c0ade0565b2572eebcb4db59a1da38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga21d512418fb659a43401359c3322c3e6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db1/group___b_o_o_k_i_n_g___m_a_n_a_g_e_m_e_n_t.html#ga21d512418fb659a43401359c3322c3e6">modify_bookingCalendar</a> ($bookid, $guestid, $booking_type, $meal_plan, $no_adults, $no_child, $checkin_date, $checkout_date, $residence_id, $payment_mode, $agents_ac_no, $roomid, $checkedin_by, $invoice_no, $res_det_id)</td></tr>
<tr class="separator:ga21d512418fb659a43401359c3322c3e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga35afd3ad51b3d0e5b6d08929ad3c36c8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db1/group___b_o_o_k_i_n_g___m_a_n_a_g_e_m_e_n_t.html#ga35afd3ad51b3d0e5b6d08929ad3c36c8">get_bookinglist</a> (&amp;$bookings, $status, $name, $roomid=0)</td></tr>
<tr class="separator:ga35afd3ad51b3d0e5b6d08929ad3c36c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaba5c32adc83bb0d9a0d36f89c91d61f1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db1/group___b_o_o_k_i_n_g___m_a_n_a_g_e_m_e_n_t.html#gaba5c32adc83bb0d9a0d36f89c91d61f1">get_booking_bydateandtype</a> (&amp;$bookings, $end, $roomtype)</td></tr>
<tr class="separator:gaba5c32adc83bb0d9a0d36f89c91d61f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga72ae53e3215218650a6d527ec18391c6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db1/group___b_o_o_k_i_n_g___m_a_n_a_g_e_m_e_n_t.html#ga72ae53e3215218650a6d527ec18391c6">modify_booking</a> ($bookid, $res_id, $bill_id, $guestid, $no_adults, $no_child6_12, $no_child1_5, $no_babies, $checkindate, $checkoutdate, $roomid, $roomtypeid, $ratesid, $instr, $checkedin_by, $checkedin_date, $checkedout_by, $checkedout_date, $cctype, $CCnum, $expiry, $CVV, $voucher_no, $book_status=<a class="el" href="../../da/dd6/group___b_o_o_k___d_e_f_s.html#ga144b30a679b585459772963e338d608e">BOOK_REGISTERED</a>, $res_det_id=0)</td></tr>
<tr class="separator:ga72ae53e3215218650a6d527ec18391c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaedf1fa6967bae1c44c6671c5b1d44d2f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db1/group___b_o_o_k_i_n_g___m_a_n_a_g_e_m_e_n_t.html#gaedf1fa6967bae1c44c6671c5b1d44d2f">get_bookid_by_resDetail_id</a> ($resDetail_id)</td></tr>
<tr class="separator:gaedf1fa6967bae1c44c6671c5b1d44d2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad9ffc7935bf1dabe62bcc3a256988290"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db1/group___b_o_o_k_i_n_g___m_a_n_a_g_e_m_e_n_t.html#gad9ffc7935bf1dabe62bcc3a256988290">get_booking_byresid</a> ($res_id, $resDetail_id, &amp;$booking)</td></tr>
<tr class="separator:gad9ffc7935bf1dabe62bcc3a256988290"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6b003563d0b02688766a3c6823920eeb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db1/group___b_o_o_k_i_n_g___m_a_n_a_g_e_m_e_n_t.html#ga6b003563d0b02688766a3c6823920eeb">get_booking_byguest</a> ($guestid, &amp;$booking)</td></tr>
<tr class="separator:ga6b003563d0b02688766a3c6823920eeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa63ae514bb15c7b959711218520dbfba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db1/group___b_o_o_k_i_n_g___m_a_n_a_g_e_m_e_n_t.html#gaa63ae514bb15c7b959711218520dbfba">get_booking</a> ($bookid, &amp;$booking)</td></tr>
<tr class="separator:gaa63ae514bb15c7b959711218520dbfba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga93002ed0c5a4b4b9ed301a6f6042e66d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db1/group___b_o_o_k_i_n_g___m_a_n_a_g_e_m_e_n_t.html#ga93002ed0c5a4b4b9ed301a6f6042e66d">create_booking_bill</a> ($bookid, $resid, $guestid, $userid)</td></tr>
<tr class="separator:ga93002ed0c5a4b4b9ed301a6f6042e66d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga349dcfa1ab158283e71e4a9a0fa6600f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db1/group___b_o_o_k_i_n_g___m_a_n_a_g_e_m_e_n_t.html#ga349dcfa1ab158283e71e4a9a0fa6600f">update_booking_bill</a> ($bookid, $billstatus)</td></tr>
<tr class="separator:ga349dcfa1ab158283e71e4a9a0fa6600f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga54affdb9a20a02877b60822d073d7c35"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db1/group___b_o_o_k_i_n_g___m_a_n_a_g_e_m_e_n_t.html#ga54affdb9a20a02877b60822d073d7c35">get_all_bookings</a> (&amp;$bookings, $status, $name, $roomid=0)</td></tr>
<tr class="separator:ga54affdb9a20a02877b60822d073d7c35"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gaf641a0ec3163a7512f7933b7373e1c95"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaf641a0ec3163a7512f7933b7373e1c95"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$logofile</b> =<a class="el" href="../../db/da6/group___a_d_m_i_n___m_a_n_a_g_e_m_e_n_t.html#ga527f00ab8178768cc30f7194cff371ec">Get_LogoFile</a>()</td></tr>
<tr class="separator:gaf641a0ec3163a7512f7933b7373e1c95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7714b111b644017933931ec69a154102"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga7714b111b644017933931ec69a154102"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$lang</b> = <a class="el" href="../../db/da6/group___a_d_m_i_n___m_a_n_a_g_e_m_e_n_t.html#gabc0f74a32c1f9e1b2986c12831cf383e">get_language</a>()</td></tr>
<tr class="separator:ga7714b111b644017933931ec69a154102"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacfa03cc3f912dcca768958b668861b37"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gacfa03cc3f912dcca768958b668861b37"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$res_id</b> = 0</td></tr>
<tr class="separator:gacfa03cc3f912dcca768958b668861b37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga38c0981e61fb6a0dd641fb46b0fa00bb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga38c0981e61fb6a0dd641fb46b0fa00bb"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$book_id</b> = 0</td></tr>
<tr class="separator:ga38c0981e61fb6a0dd641fb46b0fa00bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaecbfb9a2c5ca5e95972e62fcf74f6c34"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaecbfb9a2c5ca5e95972e62fcf74f6c34"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$guest_id</b> = 0</td></tr>
<tr class="separator:gaecbfb9a2c5ca5e95972e62fcf74f6c34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac055336753ca91314cffbd3504be6c7e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gac055336753ca91314cffbd3504be6c7e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$details_id</b> = 0</td></tr>
<tr class="separator:gac055336753ca91314cffbd3504be6c7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0124853bafb76253cb702adcf89b413b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga0124853bafb76253cb702adcf89b413b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$restarget</b> =0</td></tr>
<tr class="separator:ga0124853bafb76253cb702adcf89b413b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf62e3e027eb86d5735a6d57bd94f00cd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaf62e3e027eb86d5735a6d57bd94f00cd"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$act</b> = 0</td></tr>
<tr class="separator:gaf62e3e027eb86d5735a6d57bd94f00cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaead8e6c45af69c731b690e31715248d0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaead8e6c45af69c731b690e31715248d0"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$type_id</b> = 0</td></tr>
<tr class="separator:gaead8e6c45af69c731b690e31715248d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga732c30de867296a36cc9a9ecbdd65adb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga732c30de867296a36cc9a9ecbdd65adb"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$room_id</b> = 0</td></tr>
<tr class="separator:ga732c30de867296a36cc9a9ecbdd65adb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafc0ddbc30c2355d8cab428a15c7fd821"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gafc0ddbc30c2355d8cab428a15c7fd821"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$bookroom</b> =array()</td></tr>
<tr class="separator:gafc0ddbc30c2355d8cab428a15c7fd821"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8377b82635d9af0cb802ad4cb82af5d9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga8377b82635d9af0cb802ad4cb82af5d9"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$rem_cnt</b> = 0</td></tr>
<tr class="separator:ga8377b82635d9af0cb802ad4cb82af5d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac28d4d1a55c55be363c3621e62388bb9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gac28d4d1a55c55be363c3621e62388bb9"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$bookings</b> =array()</td></tr>
<tr class="separator:gac28d4d1a55c55be363c3621e62388bb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaec4de82415d7f05cb9748d12d3a95a87"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaec4de82415d7f05cb9748d12d3a95a87"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$offset</b> = 0</td></tr>
<tr class="separator:gaec4de82415d7f05cb9748d12d3a95a87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf1b7fb9d06cdc6d22c14741fc3cc185a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaf1b7fb9d06cdc6d22c14741fc3cc185a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$today</b> = date(&quot;d/m/Y&quot;)</td></tr>
<tr class="separator:gaf1b7fb9d06cdc6d22c14741fc3cc185a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae980d990149b513b4587c952c0b0ba16"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gae980d990149b513b4587c952c0b0ba16"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$tomorrow</b> = date(&quot;d/m/Y&quot;, time() + (24*60*60))</td></tr>
<tr class="separator:gae980d990149b513b4587c952c0b0ba16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga33688046fb57f90cbe2af766ca9c6f91"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga33688046fb57f90cbe2af766ca9c6f91"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$validationMsgs</b> = &quot;&quot;</td></tr>
<tr class="separator:ga33688046fb57f90cbe2af766ca9c6f91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0c974ceead9e6b53cbe86688205926e8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga0c974ceead9e6b53cbe86688205926e8"></a>
else&#160;</td><td class="memItemRight" valign="bottom"><b>$readonly</b> = &quot;&quot;</td></tr>
<tr class="separator:ga0c974ceead9e6b53cbe86688205926e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga241b818f48030b628685b2e5119c5624"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga241b818f48030b628685b2e5119c5624"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$total</b> = $bookings['no_adults'] + $bookings['no_child1_5'] + $bookings['no_child6_12'] + $bookings['no_babies']</td></tr>
<tr class="separator:ga241b818f48030b628685b2e5119c5624"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3166aef50beffe0b9b33eefde3b9d92a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga3166aef50beffe0b9b33eefde3b9d92a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$mscludge</b> = &quot;&quot;</td></tr>
<tr class="separator:ga3166aef50beffe0b9b33eefde3b9d92a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga07ba9f16727a0bc8873ea3b50fe7c6fe"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga07ba9f16727a0bc8873ea3b50fe7c6fe"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>if</b> (preg_match('/MSIE/i', $_SERVER['HTTP_USER_AGENT']))</td></tr>
<tr class="separator:ga07ba9f16727a0bc8873ea3b50fe7c6fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad194a5cc11a4fa00a9688e4589e88348"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gad194a5cc11a4fa00a9688e4589e88348"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$onsubmit</b> = ''</td></tr>
<tr class="separator:gad194a5cc11a4fa00a9688e4589e88348"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0ae0494bcebf9139f1a193388d9045b6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga0ae0494bcebf9139f1a193388d9045b6"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>if</b> ($_GET['menu']==&quot;booking&quot;)</td></tr>
<tr class="separator:ga0ae0494bcebf9139f1a193388d9045b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae8a1db0e6974d2bcc2708fee8bdd5270"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gae8a1db0e6974d2bcc2708fee8bdd5270"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$tabidx</b> = 0</td></tr>
<tr class="separator:gae8a1db0e6974d2bcc2708fee8bdd5270"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2e570e5d20cbf5adb978edceba763154"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga2e570e5d20cbf5adb978edceba763154"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$rmstyle</b> =&quot;display:none&quot;</td></tr>
<tr class="separator:ga2e570e5d20cbf5adb978edceba763154"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae440b805f891886ffd6e8af117bd5115"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gae440b805f891886ffd6e8af117bd5115"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$rtstyle</b> =&quot;display:none&quot;</td></tr>
<tr class="separator:gae440b805f891886ffd6e8af117bd5115"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga69eda8848606704ceb86ce9478135bca"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga69eda8848606704ceb86ce9478135bca"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$rastyle</b> =&quot;display:none&quot;</td></tr>
<tr class="separator:ga69eda8848606704ceb86ce9478135bca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga69797a95f7c668470e5eafed3ebf7706"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga69797a95f7c668470e5eafed3ebf7706"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$cond</b> = &quot;&quot;</td></tr>
<tr class="separator:ga69797a95f7c668470e5eafed3ebf7706"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa71abd4608dc942f1dde2f4bfc4ce04a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaa71abd4608dc942f1dde2f4bfc4ce04a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$selected</b> =&quot;&quot;</td></tr>
<tr class="separator:gaa71abd4608dc942f1dde2f4bfc4ce04a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga24e422cbd2ad5f4a537237a9f332c054"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga24e422cbd2ad5f4a537237a9f332c054"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>if</b> (!$bookings['guestid'])</td></tr>
<tr class="separator:ga24e422cbd2ad5f4a537237a9f332c054"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga55697bb027cc639d18bceb9f2c7c8c21"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga55697bb027cc639d18bceb9f2c7c8c21"></a>
<a class="el" href="../../db/da6/group___a_d_m_i_n___m_a_n_a_g_e_m_e_n_t.html#ga76de62d8906b8c59d10fd6966229b094">if</a>($bookings['book_id']&amp;&amp;!$bookings['checkedin_by']) else <a class="el" href="../../db/da6/group___a_d_m_i_n___m_a_n_a_g_e_m_e_n_t.html#ga76de62d8906b8c59d10fd6966229b094">if</a>($bookings['book_id']&amp;&amp;$bookings['checkedin_by']) <a class="el" href="../../db/da6/group___a_d_m_i_n___m_a_n_a_g_e_m_e_n_t.html#ga76de62d8906b8c59d10fd6966229b094">if</a>($bookings['book_id']&amp;&amp;$bookings['checkedin_by'])&#160;</td><td class="memItemRight" valign="bottom"><b>$amp</b> = &quot;&quot;</td></tr>
<tr class="separator:ga55697bb027cc639d18bceb9f2c7c8c21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga653b5458163d338546c47271b4fb81b7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga653b5458163d338546c47271b4fb81b7"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$uri</b> = &quot;reservation_summary.php?&quot;</td></tr>
<tr class="separator:ga653b5458163d338546c47271b4fb81b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gada9f5df63aafa8b83774498d94dcb3b8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gada9f5df63aafa8b83774498d94dcb3b8"></a>
if($bookings['book_id']) if($bookings['checkindate']) if($bookings['checkoutdate']) if($bookings['guestid']) if($bookings['roomid']) if($bookings['roomtypeid'])&#160;</td><td class="memItemRight" valign="bottom"><b>if</b> ($bookings['rates_id'])</td></tr>
<tr class="separator:gada9f5df63aafa8b83774498d94dcb3b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae7a03d13aed604671a274680b0d4a74f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gae7a03d13aed604671a274680b0d4a74f"></a>
<a class="el" href="../../db/da6/group___a_d_m_i_n___m_a_n_a_g_e_m_e_n_t.html#ga76de62d8906b8c59d10fd6966229b094">if</a>(<a class="el" href="../../d8/d9d/group___r_e_s___m_a_n_a_g_e_m_e_n_t.html#ga39c14e392dd5f78bbb8332803675fce0">get_bookingstatus</a>($book_id)!=<a class="el" href="../../da/dd6/group___b_o_o_k___d_e_f_s.html#gac37cd7e8df8101927fc9adc397dd3c9e">BOOK_CHECKEDIN</a>)&#160;</td><td class="memItemRight" valign="bottom"><b>else</b> {</td></tr>
<tr class="separator:gae7a03d13aed604671a274680b0d4a74f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7714b111b644017933931ec69a154102"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga7714b111b644017933931ec69a154102"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$lang</b> = <a class="el" href="../../db/da6/group___a_d_m_i_n___m_a_n_a_g_e_m_e_n_t.html#gabc0f74a32c1f9e1b2986c12831cf383e">get_language</a>()</td></tr>
<tr class="separator:ga7714b111b644017933931ec69a154102"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf641a0ec3163a7512f7933b7373e1c95"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaf641a0ec3163a7512f7933b7373e1c95"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$logofile</b> =<a class="el" href="../../db/da6/group___a_d_m_i_n___m_a_n_a_g_e_m_e_n_t.html#ga527f00ab8178768cc30f7194cff371ec">Get_LogoFile</a>()</td></tr>
<tr class="separator:gaf641a0ec3163a7512f7933b7373e1c95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga58391ea75f2d29d5d708d7050b641c33"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga58391ea75f2d29d5d708d7050b641c33"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$status</b> = 2</td></tr>
<tr class="separator:ga58391ea75f2d29d5d708d7050b641c33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga05bd06d7043e766436ecca8d446f8e81"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga05bd06d7043e766436ecca8d446f8e81"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$roomid</b> = ''</td></tr>
<tr class="separator:ga05bd06d7043e766436ecca8d446f8e81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab2fc40d43824ea3e1ce5d86dee0d763b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gab2fc40d43824ea3e1ce5d86dee0d763b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$name</b> = ''</td></tr>
<tr class="separator:gab2fc40d43824ea3e1ce5d86dee0d763b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9a89115bcfe3d2efb312bdebc5923bf3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga9a89115bcfe3d2efb312bdebc5923bf3"></a>
<a class="el" href="../../db/da6/group___a_d_m_i_n___m_a_n_a_g_e_m_e_n_t.html#ga76de62d8906b8c59d10fd6966229b094">if</a>(!empty($_POST['statusInd'])) <a class="el" href="../../db/da6/group___a_d_m_i_n___m_a_n_a_g_e_m_e_n_t.html#ga76de62d8906b8c59d10fd6966229b094">if</a>(!empty($_POST['Submit'])||!empty($_GET['action']))&#160;</td><td class="memItemRight" valign="bottom"><b>$bookings</b> = array()</td></tr>
<tr class="separator:ga9a89115bcfe3d2efb312bdebc5923bf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5f0f118bc00770ccd137a71fa117e740"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga5f0f118bc00770ccd137a71fa117e740"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>if</b> ($_GET['menu']==&quot;listbooking&quot;)</td></tr>
<tr class="separator:ga5f0f118bc00770ccd137a71fa117e740"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8f60e866b9b9430cb8a5e0c724379f2c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga8f60e866b9b9430cb8a5e0c724379f2c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>if</b> ($_POST['active']==1)</td></tr>
<tr class="separator:ga8f60e866b9b9430cb8a5e0c724379f2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5e218be5fc54abbd723d4b2fe196d16c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga5e218be5fc54abbd723d4b2fe196d16c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>if</b> ($_POST['active']==2)</td></tr>
<tr class="separator:ga5e218be5fc54abbd723d4b2fe196d16c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2761a0533cb1809e4d3d7bab30e438e3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga2761a0533cb1809e4d3d7bab30e438e3"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>if</b> ($_POST['active']==3)</td></tr>
<tr class="separator:ga2761a0533cb1809e4d3d7bab30e438e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5b56e0967db20c2ca2294368ff59bc71"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga5b56e0967db20c2ca2294368ff59bc71"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>if</b> ($_POST['active']==4)</td></tr>
<tr class="separator:ga5b56e0967db20c2ca2294368ff59bc71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab7983fb14b6ac443cd76b4b14d2e2cd4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gab7983fb14b6ac443cd76b4b14d2e2cd4"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>if</b> ($_POST['active']==5)</td></tr>
<tr class="separator:gab7983fb14b6ac443cd76b4b14d2e2cd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3470279ef9673e14f8f9d8865ed8caf6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga3470279ef9673e14f8f9d8865ed8caf6"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>if</b> ($_POST['optFind']==$_L['RGL_guest'])</td></tr>
<tr class="separator:ga3470279ef9673e14f8f9d8865ed8caf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0f0c5199a19ecdfa7b3ac1d9d8850321"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga0f0c5199a19ecdfa7b3ac1d9d8850321"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>if</b> ($_POST['optFind']==$_L['RGL_room'])</td></tr>
<tr class="separator:ga0f0c5199a19ecdfa7b3ac1d9d8850321"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3dfca82b269e293c07a28a1f98e73ab2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga3dfca82b269e293c07a28a1f98e73ab2"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>if</b> (isset($_POST['search']))</td></tr>
<tr class="separator:ga3dfca82b269e293c07a28a1f98e73ab2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This documentation is for code maintenance, not a user guide. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga21d512418fb659a43401359c3322c3e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">modify_bookingCalendar </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$bookid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$guestid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$booking_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$meal_plan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$no_adults</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$no_child</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$checkin_date</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$checkout_date</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$residence_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$payment_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$agents_ac_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$roomid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$checkedin_by</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$invoice_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$res_det_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Insert or Update an existing booking</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$bookid</td><td>[in] reservation id for update, 0 if new reservation </td></tr>
    <tr><td class="paramname">$guestid</td><td>[in] guest ID for booking profile </td></tr>
    <tr><td class="paramname">$booking_type</td><td>[in] type of booking </td></tr>
    <tr><td class="paramname">$meal_plan</td><td>[in] 2 character code </td></tr>
    <tr><td class="paramname">$no_adults</td><td>[in] number of adults </td></tr>
    <tr><td class="paramname">$no_child</td><td>[in] count of child </td></tr>
    <tr><td class="paramname">$checkin_date</td><td>[in] booking checkin date </td></tr>
    <tr><td class="paramname">$checkout_date</td><td>[in] booking checkout date </td></tr>
    <tr><td class="paramname">$residence_id</td><td>[in] residence id making booking </td></tr>
    <tr><td class="paramname">$payment_mode</td><td>[in] name of mode in payment </td></tr>
    <tr><td class="paramname">$agents_ac_no</td><td>[in] agent account number </td></tr>
    <tr><td class="paramname">$roomid</td><td>[in] Room id </td></tr>
    <tr><td class="paramname">$checkedin_by</td><td>[in] id of user that booked </td></tr>
    <tr><td class="paramname">$invoice_no</td><td>[in] booking voucher number </td></tr>
    <tr><td class="paramname">$res_det_id</td><td>[in] Rerservation room detail id </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga35afd3ad51b3d0e5b6d08929ad3c36c8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_bookinglist </td>
          <td>(</td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$bookings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$roomid</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve the list of registrations/booking</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$bookings</td><td>[in/out] array to contain result of registration </td></tr>
    <tr><td class="paramname">$status</td><td>[in] 0 active 1 for all </td></tr>
    <tr><td class="paramname">$name</td><td>[in] name </td></tr>
    <tr><td class="paramname">$roomid</td><td>[in] Room id <br />
 $booking['book_id']['book_id'] (same as book_id) <br />
 $booking['book_id']['bill_id'] invoice id <br />
 $booking['book_id']['guestid'] <br />
 $booking['book_id']['reservation_id'] <br />
 $booking['book_id']['no_adults'] <br />
 $booking['book_id']['no_child'] total of babies, child 1 to 5 and child 6 to 12<br />
 $booking['book_id']['roomid'] <br />
 $booking['book_id']['roomtypeid'] <br />
 $booking['book_id']['ratesid'] <br />
 $booking['book_id']['voucher_no'] <br />
 $booking['book_id']['guestname'] <br />
 $booking['book_id']['checkindate'] dd/mm/yyyy hh:ii <br />
 $booking['book_id']['checkoutdate'] dd/mm/yyyy hh:ii <br />
 $booking['book_id']['roomno'] <br />
 $booking['book_id']['book_status'] <br />
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of items in <em>bookings</em> </dd></dl>

</div>
</div>
<a class="anchor" id="gaba5c32adc83bb0d9a0d36f89c91d61f1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_booking_bydateandtype </td>
          <td>(</td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$bookings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$roomtype</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve the list of registrations/booking</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$bookings</td><td>[in/out] array to contain result of registration </td></tr>
    <tr><td class="paramname">$end</td><td>[in] end date </td></tr>
    <tr><td class="paramname">$roomtype</td><td>[in] Room type id <br />
 $booking['book_id']['book_id'] (same as book_id) <br />
 $booking['book_id']['checkindate'] dd/mm/yyyy hh:ii <br />
 $booking['book_id']['checkoutdate'] dd/mm/yyyy hh:ii <br />
 $booking['book_id']['roomtype'] <br />
 $booking['book_id']['book_status'] <br />
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of items in <em>bookings</em> </dd></dl>

</div>
</div>
<a class="anchor" id="ga72ae53e3215218650a6d527ec18391c6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">modify_booking </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$bookid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$res_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$bill_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$guestid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$no_adults</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$no_child6_12</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$no_child1_5</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$no_babies</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$checkindate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$checkoutdate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$roomid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$roomtypeid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$ratesid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$instr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$checkedin_by</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$checkedin_date</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$checkedout_by</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$checkedout_date</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$cctype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$CCnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$expiry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$CVV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$voucher_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$book_status</em> = <code><a class="el" href="../../da/dd6/group___b_o_o_k___d_e_f_s.html#ga144b30a679b585459772963e338d608e">BOOK_REGISTERED</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$res_det_id</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Insert or Update an existing booking</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$bookid</td><td>[in] booking id for update, 0 if new reservation </td></tr>
    <tr><td class="paramname">$res_id</td><td>[in] Reservation id </td></tr>
    <tr><td class="paramname">$bill_id</td><td>[in] Billing id </td></tr>
    <tr><td class="paramname">$guestid</td><td>[in] guest ID for booking profile </td></tr>
    <tr><td class="paramname">$no_adults</td><td>[in] count of adults </td></tr>
    <tr><td class="paramname">$no_child6_12</td><td>[in] count of child 6 to 12 </td></tr>
    <tr><td class="paramname">$no_child1_5</td><td>[in] count of child 1 to 5 </td></tr>
    <tr><td class="paramname">$no_babies</td><td>[in] count babies </td></tr>
    <tr><td class="paramname">$checkindate</td><td>[in] booking checkin date </td></tr>
    <tr><td class="paramname">$checkoutdate</td><td>[in] booking checkout date </td></tr>
    <tr><td class="paramname">$roomid</td><td>[in] Room id </td></tr>
    <tr><td class="paramname">$roomtypeid</td><td>[in] Room type id </td></tr>
    <tr><td class="paramname">$ratesid</td><td>[in] Rates id </td></tr>
    <tr><td class="paramname">$instr</td><td>[in] Instructions/Notes </td></tr>
    <tr><td class="paramname">$checkedin_by</td><td>[in] Userid of staff doing registration </td></tr>
    <tr><td class="paramname">$checkedin_date</td><td>[in] date time of check in </td></tr>
    <tr><td class="paramname">$checkedout_by</td><td>[in] Userid of staff doing checkout </td></tr>
    <tr><td class="paramname">$checkedout_date</td><td>[in] date time of check out </td></tr>
    <tr><td class="paramname">$cctype</td><td>[in] Credit card type </td></tr>
    <tr><td class="paramname">$CCnum</td><td>[in] Credit card number </td></tr>
    <tr><td class="paramname">$expiry</td><td>[in] MMYY expiry date </td></tr>
    <tr><td class="paramname">$CVV</td><td>[in] Card verification value </td></tr>
    <tr><td class="paramname">$voucher_no</td><td>[in] voucher number </td></tr>
    <tr><td class="paramname">$book_status</td><td>[in] booking status </td></tr>
    <tr><td class="paramname">$res_det_id</td><td>[in] reservation details ID </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaedf1fa6967bae1c44c6671c5b1d44d2f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_bookid_by_resDetail_id </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$resDetail_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the booking id by the reservation detail id</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$resDetail_id</td><td>[in] Reservation Details ID</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Booking id </dd></dl>

</div>
</div>
<a class="anchor" id="gad9ffc7935bf1dabe62bcc3a256988290"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_booking_byresid </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$res_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$resDetail_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$booking</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the booking detail by the reservation id This is the combination of user detail, country detail</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$res_id</td><td>[in] Reservation ID </td></tr>
    <tr><td class="paramname">$resDetail_id</td><td>[in] Reservation Details ID </td></tr>
    <tr><td class="paramname">$booking</td><td>[in/out] result array</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of elements in booking </dd></dl>

</div>
</div>
<a class="anchor" id="ga6b003563d0b02688766a3c6823920eeb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_booking_byguest </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$guestid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$booking</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the booking detail by the guest id, first check any open reservation that is due today if found, use this reservation, if not found then create a new booking filling in the guest detail, but the booking will not be created like with a reservation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$guestid</td><td>[in] Guest ID </td></tr>
    <tr><td class="paramname">$booking</td><td>[in/out] result array</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of elements in booking </dd></dl>

</div>
</div>
<a class="anchor" id="gaa63ae514bb15c7b959711218520dbfba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_booking </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$bookid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$booking</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the booking detail This is the combination of user detail, country detail</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$bookid</td><td>[in] Booking ID </td></tr>
    <tr><td class="paramname">$booking</td><td>[in/out] result array</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of elements in booking </dd></dl>

</div>
</div>
<a class="anchor" id="ga93002ed0c5a4b4b9ed301a6f6042e66d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">create_booking_bill </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$bookid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$resid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$guestid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$userid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create the bill for the booking.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$bookid</td><td>[in] The booking ID </td></tr>
    <tr><td class="paramname">$resid</td><td>[in] The reservation ID </td></tr>
    <tr><td class="paramname">$guestid</td><td>[in] The guest ID </td></tr>
    <tr><td class="paramname">$userid</td><td>[in] The user </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga349dcfa1ab158283e71e4a9a0fa6600f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">update_booking_bill </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$bookid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$billstatus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the status of the reservation billing</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$bookid</td><td>[in] Book ID </td></tr>
    <tr><td class="paramname">$billstatus</td><td>[in] 1 billed, 0 not billed</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 fail &gt;0 success </dd></dl>

</div>
</div>
<a class="anchor" id="ga54affdb9a20a02877b60822d073d7c35"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_all_bookings </td>
          <td>(</td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$bookings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$roomid</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve the list of registrations/booking</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$bookings</td><td>[in/out] array to contain result of registration </td></tr>
    <tr><td class="paramname">$status</td><td>[in] 0 active 1 for all </td></tr>
    <tr><td class="paramname">$name</td><td>[in] name </td></tr>
    <tr><td class="paramname">$roomid</td><td>[in] Room id </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of items in <em>bookings</em> </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Aug 18 2015 19:09:02 for OTA Hotel by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
